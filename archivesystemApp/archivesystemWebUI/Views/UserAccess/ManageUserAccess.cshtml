@model IEnumerable<archivesystemDomain.Entities.AccessDetails>

@{
    ViewBag.Title = "ManageUserAccess";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (TempData["UserAccessMessage"] != null)
{
    <div class="alert-danger text-center" style="border-radius: 6px; padding: 10px; margin: 10px;">
        @TempData["UserAccessMessage"]
    </div>
}
@if (TempData["UserAddedMessage"] != null)
{
    <div class="alert-success text-center" style="border-radius: 6px; padding: 10px; margin: 10px;">
        @TempData["UserAddedMessage"]
    </div>
}
@if (TempData["UserDeletedMessage"] != null)
{
    <div class="alert-warning text-center" style="border-radius: 6px; padding: 10px; margin: 10px;">
        @TempData["UserDeletedMessage"]
    </div>
}


    <div class="account-content">
        <div class="container">
            <!-- Page Header -->
            <div class="page-header">
                <div class="row">
                    <div class="col-sm-12">
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="@Url.Action("Index", "AccessLevel")">Dashboard</a></li>
                            <li class="breadcrumb-item active">Manage User Access</li>
                        </ul>
                    </div>
                </div>
            </div>
            <hr />
            <!-- /Page Header -->



            @if (Model.Count() == 0)
            {
                <div class="" style="display: flex; justify-content: center; align-items: center; height:200px; ">
                    <a href="@Url.Action("AddUser", "UserAccess")" class="btn add-btn shadow"><i class="fa fa-plus"></i> Add User to an Access Level</a>
                </div>
            }
            else
            {

            <div>
                <div class="col-auto float-right">
                    <a href="@Url.Action("AddUser", "UserAccess")" class="btn add-btn"><i class="fa fa-plus"></i> Add User</a>
                </div>
                <h2 class="page-title">Manage User Access</h2>

            </div>
            <br />
            <table class="table-active table table-striped custom-table mb-0 datatable">
                <tr>

                    <th>
                        @Html.DisplayNameFor(model => model.EmployeeName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.AccessLevel)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.AccessCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Status)
                    </th>
                    <th>Actions</th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.EmployeeName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.AccessLevel)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.AccessCode)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Status)
                        </td>
                        <td>
                            <div class="dropdown dropdown-action">
                                <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_vert</i></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <a class="dropdown-item" href="@Url.Action("EditUser", "UserAccess", new {id = item.Id })"><i class="fa fa-edit" aria-hidden="true"></i> Edit</a>
                                    <a class="dropdown-item" href="@Url.Action("DeleteUser", "UserAccess", new {id = item.Id })"><i class="fa fa-trash" aria-hidden="true"></i> Remove</a>

                                </div>
                            </div>
                        </td>
                    </tr>
                }

            </table>
            }
        </div>
</div>


